{% extends 'base.html.twig' %}
{% block title %}OFNI | Jeu &#128377;&#128126;{% endblock %}

{% block main %}
    <h1>ðŸ‘¾ Space OFNIvaders ðŸ‘¾</h1>
    <p>Bienvenue sur notre nouveau jeu, inspirÃ© de l'indÃ©modable "Space Invaders" &#128377;&#128126;</p>

    <a class="btn hidden-phone" href="/game/gameplay">Jouer !</a>
    <p class="hidden-pc">Connectez-vous sur un ordinateur pour jouer.</p>

    <section>
        <h2>Classement des Ã©quipes</h2>
        <div class="ranking" style="margin: 250px;">
            <div class="top-3">
                <div class="place second">
                    <div id="{{ (team_second.name == 'Abeille') ? 'bee' : 'duck'}}-model-container" style="width: 300px; height: 400px; margin: auto; position: absolute; top: -100%"></div>
                    <p>
                    <span class="order-number-top">2.
                    </span><br>
                    <span class="{{ (team_second.name == 'Abeille') ? 'team-bee' : 'team-duck' }}">{{ team_second.name }}</span><br>{{ team_second.score }} points</p>
                </div>

                <div class="svg-loop-container">
                    <svg class="rotating-svg" viewBox="0 0 160 160" width="160" height="160">
                    <g transform="matrix(0.866, -0.5, 0.25, 0.433, 80, 80)">
                        <path d="M 17,70 A 65,70 0 0,0 65,0 5,5 0 0,1 75,0 75,70 0 0,1 17,70Z" fill="#ff9900"></path>
                    </g>
                    </svg>
                <div class="place first">  
                    <div id="{{ (team_first.name == 'Abeille') ? 'bee' : 'duck'}}-model-container" style="width: 300px; height: 400px; margin: auto; position: absolute; top: -100%"></div>
                    <p><span class="order-number-top">1.
                    </span><br>
                    <span class="{{ (team_first.name == 'Abeille') ? 'team-bee' : 'team-duck' }}">{{ team_first.name }}</span><br>{{ team_first.score }} points</p>
                </div>
                </div>

            </div>
        </div>

    </section>

    <section>
        <h2>Classement des joueurs &#128220;</h2>
        <p>Voici le classement des meilleurs joueurs :</p>

        <div class="ranking">
            <div class="top-3">
                <div class="place second">
                    <p>
                    <span class="order-number-top">2.
                    </span>{{ second.name }}<br>
                    <span class="{{ (second.team == 'Abeille') ? 'team-bee' : 'team-duck' }}">{{ second.team }}</span><br>{{ second.score }} points</p>
                </div>

                <div class="svg-loop-container">
                    <svg class="rotating-svg" viewBox="0 0 160 160" width="160" height="160">
                    <g transform="matrix(0.866, -0.5, 0.25, 0.433, 80, 80)">
                        <path d="M 17,70 A 65,70 0 0,0 65,0 5,5 0 0,1 75,0 75,70 0 0,1 17,70Z" fill="#ff9900"></path>
                    </g>
                    </svg>
                <div class="place first">  
                    <p><span class="order-number-top">1.
                    </span>{{ first.name }}<br>
                    <span class="{{ (first.team == 'Abeille') ? 'team-bee' : 'team-duck' }}">{{ first.team }}</span><br>{{ first.score }} points</p>
                </div>
                </div>

                <div class="place third">
                    <p><span class="order-number-top">3.</span>{{ third.name }}<br><span class="{{ (third.team == 'Abeille') ? 'team-bee' : 'team-duck' }}">{{ third.team }}</span><br>{{ third.score }} points</p>
                </div>
            </div>
            <div class="others">
                {% for player_nbr, player in top %}
                <p><span class="order-number">{{ player_nbr }}.</span> <strong>{{ player.name }}</strong> - <span class="{{ (player.team == 'Abeille') ? 'team-bee' : 'team-duck' }}">{{ player.team }}</span> - {{ player.score }} points</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <section>
        <h2>Comment jouer ? &#128126;</h2>
        <p>Les participants sont rÃ©partis en deux Ã©quipes : <span class="team-bee">les abeilles &#128029;</span> et <span class="team-duck">les canards &#129414;</span>. Chaque joueur doit choisir son Ã©quipe avant de lancer une partie.</p>
        <p>Utilisez les flÃ¨ches directionnelles de votre clavier pour vous dÃ©placer et la barre espace pour tirer.
        Le but est de tirer sur les OFNIvaders qui descendent vers vous avant qu'ils ne vous atteignent. Attention, ils tirent aussi !
        Ce jeu est infini, le but est de faire le plus de points possible !</p>
        <p>Malheureusement, ce jeu n'est pas encore jouable sur mobile.</p>

        <a class="btn hidden-phone" href="/game/gameplay">J'essaie le jeu !</a>
    </section>

    

    <script src="{{ asset('build/three-model.js') }}"></script>
    <script src="{{ asset('build/runtime.js') }}"></script>

{% endblock %}
